----------------------------------------------------------------------
■「共有変数プラグイン」：ゴースト間共有変数処理用プラグイン
■Written by CSaori Project
　http://code.google.com/p/csaori/
----------------------------------------------------------------------

■これは何をするものか

ゴースト間でデータを共有するためのプラグインです。
セーブデータ読みや、その他仕様外の方法を取らずに安全・安定したやりとりが可能になります。

■動作環境

・SSPと同じ

■ゴーストからの利用方法

・値を読み出す

　実行タグ：

　　\![raiseplugin,ABED14AF-F34B-4ff2-95B7-30ED37D5802D,OnSharedValueRead,(ゴースト名),(変数名1),(変数名2)...]
　　「ゴースト名」はフルネーム(descriptのname)で指定してください。
　　取得したい変数名は複数指定できます。複数指定した場合は下記の通りR1から順に変数名・値と交互に通知されます。

　タグへの返信イベント：

　　イベント　　＝OnSharedValueRead
　　　Reference0＝(ゴースト名)
　　　Reference1＝(変数名1)
　　　Reference2＝(変数1の値/存在しない場合はからっぽ)
　　　Reference3＝(変数名2)
　　　Reference4＝(変数2の値/存在しない場合はからっぽ)
　　　以下指定した分だけ続く


・値を書き込む／値の消去

　実行タグ：

　　\![raiseplugin,ABED14AF-F34B-4ff2-95B7-30ED37D5802D,OnSharedValueWrite,(変数名1),(変数1の値),(変数名2),(変数2の値)...]
　　「ゴースト名」を指定することはできません。必ず自分のゴースト名領域への保存となります。
　　これは、別ゴースト領域への書き込みを防ぎ、予期しない問題を防ぐための仕様となります。
　　（例：別のゴーストに勝手に好感度を書き換えられた、など）

　　【重要】空文字列を書き込むと変数を消去できます。

　タグへの返信イベントはありません。


・値を格納しているゴーストのリスト

　実行タグ：

　　\![raiseplugin,ABED14AF-F34B-4ff2-95B7-30ED37D5802D,OnSharedValueGhostList]

　タグへの返信イベント：

　　イベント　　＝OnSharedValueGhostList
　　　Reference0＝(ゴースト名1)
　　　Reference1＝(ゴースト名2)
　　　以下データのある限り続く


・起動時の自分自身への通知

　イベント：

　　イベント　　＝OnSharedValueReadNotify
　　　Reference0＝(ゴースト名)
　　　Reference1＝(変数名1)
　　　Reference2＝(変数1の値)
　　　Reference3＝(変数名2)
　　　Reference4＝(変数2の値)
　　　以下データのある限り続く

　　・ゴーストが起動されたタイミングで自動通知されます
　　・以降、格納されている変数が交互に続く
　　・自分自身の保存領域にある値のみリストアップされます。他のゴーストの領域にアクセスするためには
　　　改めて起動後に上記読み出しタグを実行して返信イベントを処理してください。
　　・NOTIFYイベント：このイベント通知でスクリプトを返すことはできません。


■配布条件等

license.txtを見てください。

■更新履歴

・2010/9/27 1.0
　First Release


